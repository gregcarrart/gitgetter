!function($){var a,e,t=[],o="",l="",n=!0,r=function(a,e){this.term=a,this.results=e},s={el:{$form:$("#search-form"),$resultsContainer:$("#results-container"),$overlayContainer:$("#overlay-container"),$searchTerm:$(".search-field"),$modalCover:$(".modal-cover")},init:function(){s.el.$form.submit(function(e){e.preventDefault(),a=s.el.$searchTerm.val().toLowerCase();var o=$.grep(t,function(e){return e.term===a});s.el.$resultsContainer.html(""),0===o.length?(n=!0,t.push(new r(a,null)),s.getData(a)):(n=!1,s.retrieveData(a))})},getData:function(a){e="https://api.github.com/legacy/repos/search/"+a,$.ajax({type:"GET",url:e,dataType:"jsonp",success:function(e){s.setData(e,a)}})},retrieveData:function(a){for(var e=0;e<t.length;e++)if(t[e].term===a){var o=t[e].results;s.setData(o,a)}},setData:function(a,e){if(0===a.data.repositories.length&&s.el.$resultsContainer.append("<h2>Sorry, no results found.</h2>"),$.each(a.data.repositories,function(){var a=this.name,e=this.owner,t=this.language,l=this.followers,n=this.url,r=this.description;o='<div class="item" data-lang="'+t+'" data-followers="'+l+'" data-url="'+n+'" data-desc="'+r+'"><div class="repo-name"><span>'+a+'</span></div><div class="repo-owner"><span>'+e+"</span></div></div>",s.el.$resultsContainer.append(o)}),s.events(),n)for(var l=0;l<t.length;l++)if(t[l].term===e){t[l].results=a;break}},events:function(){$(".item").on("click",function(){var a=$(this),e=a.find(".repo-name").find("span").html(),t=a.find(".repo-owner").find("span").html(),o=a.attr("data-lang"),l=a.attr("data-followers"),n=a.attr("data-url"),r=a.attr("data-desc");s.openModal(e,t,o,l,n,r)}),s.el.$modalCover.on("click",s.closeModal)},openModal:function(a,e,t,o,n,r){l='<div class="modal"><div class="modal-close">X</div><div class="modal-title">'+a+'</div><div class="modal-owner"><a href="http://github.com/'+e+'" target="_blank">'+e+'</a></div><hr /><div class="modal-lang modal-text">Language: '+t+'</div><div class="modal-followers modal-text">Followers: '+o+'</div><div class="modal-url modal-text">URL: <a href="'+n+'" target="_blank">'+n+'</a></div><div class="modal-desc modal-text">Description: '+r+"</div></div>",s.el.$overlayContainer.append(l),s.el.$modalCover.fadeIn(300),s.el.$overlayContainer.fadeIn(300),$(".modal-close").on("click",function(){s.closeModal()})},closeModal:function(){s.el.$modalCover.fadeOut(300),s.el.$overlayContainer.fadeOut(300),s.el.$overlayContainer.html("")}};s.init()}(jQuery);