!function($){var e,a,t=[],r="",o="",l=!0,n=function(e,a){this.term=e,this.results=a},s={el:{$form:$("#search-form"),$resultsContainer:$("#results-container"),$overlayContainer:$("#overlay-container"),$searchTerm:$(".search-field"),$modalCover:$(".modal-cover")},init:function(){s.el.$form.submit(function(a){a.preventDefault(),s.el.$resultsContainer.html(""),e=s.el.$searchTerm.val().toLowerCase();var r=$.grep(t,function(a){return a.term===e});""!=e?0===r.length?(l=!0,t.push(new n(e,null)),s.getData(e)):(l=!1,s.retrieveData(e)):alert("Please Enter a Search Term")})},getData:function(e){a="https://api.github.com/legacy/repos/search/"+e,$.ajax({type:"GET",url:a,dataType:"jsonp",success:function(a){s.setData(a,e)},error:function(){alert("Sorry, there was a problem with your request.")}})},retrieveData:function(e){for(var a=0;a<t.length;a++)if(t[a].term===e){var r=t[a].results;s.setData(r,e)}},setData:function(e,a){if(0===e.data.repositories.length&&s.el.$resultsContainer.append("<h2>Sorry, no results found.</h2>"),$.each(e.data.repositories,function(){var e=this.name,a=this.owner,t=this.language,o=this.followers,l=this.url,n=this.description;r='<div class="item" data-lang="'+t+'" data-followers="'+o+'" data-url="'+l+'" data-desc="'+n+'"><div class="repo-name"><span>'+e+'</span></div><div class="repo-owner"><span>'+a+"</span></div></div>",s.el.$resultsContainer.append(r)}),s.events(),l)for(var o=0;o<t.length;o++)if(t[o].term===a){t[o].results=e;break}},events:function(){$(".item").on("click",function(){var e=$(this),a=e.find(".repo-name").find("span").html(),t=e.find(".repo-owner").find("span").html(),r=e.attr("data-lang"),o=e.attr("data-followers"),l=e.attr("data-url"),n=e.attr("data-desc");s.openModal(a,t,r,o,l,n)}),s.el.$modalCover.on("click",s.closeModal)},openModal:function(e,a,t,r,l,n){o='<div class="modal"><div class="modal-close">X</div><div class="modal-title">'+e+'</div><div class="modal-owner"><a href="http://github.com/'+a+'" target="_blank">'+a+'</a></div><hr /><div class="modal-lang modal-text">Language: '+t+'</div><div class="modal-followers modal-text">Followers: '+r+'</div><div class="modal-url modal-text">URL: <a href="'+l+'" target="_blank">'+l+'</a></div><div class="modal-desc modal-text">Description: '+n+"</div></div>",s.el.$overlayContainer.append(o),s.el.$modalCover.fadeIn(300),s.el.$overlayContainer.fadeIn(300),$(".modal-close").on("click",function(){s.closeModal()})},closeModal:function(){s.el.$modalCover.fadeOut(300),s.el.$overlayContainer.fadeOut(300),s.el.$overlayContainer.html("")}};s.init()}(jQuery);